# MAX –±–æ—Ç –¶–ó–ù –ú–û

–ë–æ—Ç –¥–ª—è –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä–∞ MAX
https://max.ru/murman_koncult_bot


## üõ†Ô∏è –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ (PROD)

–î–∞–Ω–Ω—ã–π —Å–µ—Ä–≤–∏—Å –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ, –∫–æ—Ç–æ—Ä—ã–π –Ω–µ –∏–º–µ–µ—Ç –¥–æ—Å—Ç—É–ø –∫ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è–º docker –æ–±—Ä–∞–∑–æ–≤, –∞ —Ç–∞–∫–∂–µ –ø—Ä–æ–±–ª–µ–º—ã —Å –ø–æ–ª—É—á–µ–Ω–∏–µ–º –ø–∞–∫–µ—Ç–æ–≤ –∫–∞–∫ –¥–ª—è python —Ç–∞–∫ –∏ –¥–ª—è node.js

#### –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –æ–±—Ä–∞–∑–∞ –¥–ª—è max bot typescript

–ù–µ–æ–±—Ö–æ–¥–∏–º–æ –ø–µ—Ä–µ–π—Ç–∏ –≤ ts_bot. –ü—Ä–æ–ø–∏—Å—ã–≤–∞–µ–º —Å–ª–µ–¥—É—é—â—É—é –∫–æ–º–∞–Ω–¥—É –Ω–∞ –º–∞—à–∏–Ω–µ, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–π –µ—Å—Ç—å –¥–æ—Å—Ç—É–ø –∫ docker –æ–±—Ä–∞–∑–∞–º

linux
```bash
docker build -t max_bot_czn:v1.0 -f ./build.dockerfile .
```
Windows
```shell
docker build -t max_bot_czn:v1.0 -f .\build.dockerfile .
```

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π —Å–±–æ—Ä–∫–∏, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Å–¥–µ–ª–∞—Ç—å –∞—Ä—Ö–∏–≤ –Ω–∞—à–µ–≥–æ –æ–±—Ä–∞–∑–∞


Windows/Linux –¥–∞–Ω–Ω—É—é –∫–æ–º–∞–Ω–¥—É –ø—Ä–æ–ø–∏—Å—ã–≤–∞–µ–º –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ (–Ω–∞ —Ñ–ª–µ—à–∫–µ), —Ç–∞–∫ –∫–∞–∫ –∏–º–µ–Ω–Ω–æ —Ç–∞–º –ø–æ—è–≤–∏—Ç—å—Å—è –∞—Ä—Ö–∏–≤
```bash
docker save -o max_bot_czn_v1.0.tar max_bot_czn:v1.0
```

–ü–µ—Ä–µ—Ö–æ–¥–∏–º –Ω–∞ –º–∞—à–∏–Ω—É –≤ –∑–∞–∫—Ä—ã—Ç–æ–º –∫–æ–Ω—Ç—É—Ä–µ, –ø–µ—Ä–µ–∫–∏–¥—ã–≤–∞–µ–º —Ç—É–¥–∞ –Ω–∞—à –ø—Ä–æ–µ–∫—Ç –∏ –∞—Ä—Ö–∏–≤ —Å –æ–±—Ä–∞–∑–æ–º. –î–∞–ª–µ–µ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ —Å –∞—Ä—Ö–∏–≤–æ–º –ø—Ä–æ–ø–∏—Å—ã–≤–∞–µ–º –∫–æ–º–∞–Ω–¥—É

```bash
docker load -i max_bot_czn_v1.0.tar
```

–ü–µ—Ä–µ–Ω–æ—Å–∏–º –±–æ—Ç–∞ –Ω–∞ –º–∞—à–∏–Ω—É, –Ω–∞ –∫–æ—Ç–æ—Ä—É—é —É—Å—Ç–∞–Ω–æ–≤–∏–ª–∏ –¥–∞–Ω–Ω—ã–π –æ–±—Ä–∞–∑.
–ö–æ–ø–∏—Ä—É–µ–º –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é ts_bot

–°–æ–∑–¥–∞–µ–º –≤ –Ω–µ–π —Ñ–∞–π–ª–∏–∫ .env
–í –∫–æ—Ç–æ—Ä–æ–º –ø—Ä–æ–ø–∏—Å–∞–Ω —Ç–æ–∫–µ–Ω –¥–ª—è —Ä–∞–±–æ—Ç—ã Max –±–æ—Ç–∞
–∞ —Ç–∞–∫–∂–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–∫—Å–∏
```bash
BOT_TOKEN=<–≤–∞—à_—Ç–æ–∫–µ–Ω>
PROXY_USE=1
PROXY_PATH=<url_–ø—Ä–æ–∫—Å–∏>
PROXY_AUTH=0
NO_PROXY=localhost,127.0.0.1,django-app

API_KEY=M4kn_mDflOdxmDO1jHgWdidnR76Y4H-p3wIhkPJPtlw
API_PATH=http://django-app:8000/api/v1.0/civilian_requests/
```

–µ—Å–ª–∏ –∂–µ, –ø—Ä–æ–∫—Å–∏ —Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π —Ç–æ.
```bash
BOT_TOKEN=<–≤–∞—à_—Ç–æ–∫–µ–Ω>
PROXY_USE=1
PROXY_PATH=<url_–ø—Ä–æ–∫—Å–∏>
PROXY_AUTH=1
PROXY_LOGIN=<login_–ø—Ä–æ–∫—Å–∏>
PROXY_PASSWORD=<password_–ø—Ä–æ–∫—Å–∏>
NO_PROXY=localhost,127.0.0.1,django-app

API_KEY=M4kn_mDflOdxmDO1jHgWdidnR76Y4H-p3wIhkPJPtlw
API_PATH=http://django-app:8000/api/v1.0/civilian_requests/
```

–∑–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
```bash
docker-compose -f docker-compose.prod.yaml up --build
```

#### –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –æ–±—Ä–∞–∑–∞ –¥–ª—è django app

–ù–µ–æ–±—Ö–æ–¥–∏–º–æ –ø–µ—Ä–µ–π—Ç–∏ –≤ django_app. –ü—Ä–æ–ø–∏—Å—ã–≤–∞–µ–º —Å–ª–µ–¥—É—é—â—É—é –∫–æ–º–∞–Ω–¥—É –Ω–∞ –º–∞—à–∏–Ω–µ, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–π –µ—Å—Ç—å –¥–æ—Å—Ç—É–ø –∫ docker –æ–±—Ä–∞–∑–∞–º

linux
```bash
docker build -t max_bot_django_app:v1.0 -f ./build.dockerfile .
```

Windows
```shell
docker build -t max_bot_django_app:v1.0 -f .\build.dockerfile .
```

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π —Å–±–æ—Ä–∫–∏, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Å–¥–µ–ª–∞—Ç—å –∞—Ä—Ö–∏–≤ –Ω–∞—à–µ–≥–æ –æ–±—Ä–∞–∑–∞


Windows/Linux –¥–∞–Ω–Ω—É—é –∫–æ–º–∞–Ω–¥—É –ø—Ä–æ–ø–∏—Å—ã–≤–∞–µ–º –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ (–Ω–∞ —Ñ–ª–µ—à–∫–µ), —Ç–∞–∫ –∫–∞–∫ –∏–º–µ–Ω–Ω–æ —Ç–∞–º –ø–æ—è–≤–∏—Ç—å—Å—è –∞—Ä—Ö–∏–≤

```bash
docker save -o max_bot_django_app_v1.0.tar max_bot_django_app:v1.0
```

–ü–µ—Ä–µ—Ö–æ–¥–∏–º –Ω–∞ –º–∞—à–∏–Ω—É –≤ –∑–∞–∫—Ä—ã—Ç–æ–º –∫–æ–Ω—Ç—É—Ä–µ, –ø–µ—Ä–µ–∫–∏–¥—ã–≤–∞–µ–º —Ç—É–¥–∞ –Ω–∞—à –ø—Ä–æ–µ–∫—Ç –∏ –∞—Ä—Ö–∏–≤ —Å –æ–±—Ä–∞–∑–æ–º. –î–∞–ª–µ–µ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ —Å –∞—Ä—Ö–∏–≤–æ–º –ø—Ä–æ–ø–∏—Å—ã–≤–∞–µ–º –∫–æ–º–∞–Ω–¥—É

```bash
docker load -i max_bot_django_app_v1.0.tar
```
